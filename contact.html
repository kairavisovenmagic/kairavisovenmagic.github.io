<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Contact | Kairaviâ€™s Oven Magic</title>
  <meta name="description" content="Contact Kairaviâ€™s Oven Magic for cookie & nankhatai orders. WhatsApp, call or email. Freshly baked, pure butter, no maida, no palm oil."/>
  <link rel="icon" href="images/logo.png"/>
  <link rel="stylesheet" href="style.css"/>

  <!-- Google Analytics (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4W0YRB7QQ2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-4W0YRB7QQ2');
  </script>

  <!-- Page-specific polish -->
  <style>
    .contact-hero{
      position:relative; isolation:isolate;
      background:#fff1e6 url('images/contact-hero.jpg') center/cover no-repeat;
      padding:72px 0;
    }
    .contact-hero:before{
      content:""; position:absolute; inset:0; z-index:0;
      background:linear-gradient(180deg, rgba(255,250,244,.85), rgba(255,241,230,.75));
      backdrop-filter:saturate(1.2);
    }
    .contact-hero .wrap{position:relative; z-index:1;}
    .contact-hero h1{font-size:2rem; line-height:1.2; margin-bottom:6px}
    .contact-hero .sub{font-size:1rem}

    /* Form refinements (rely on your tokens) */
    .form-card{padding:18px}
    .form-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:12px}
    .form-grid label span{display:block; margin-bottom:6px}
    .form-input, .form-text{
      width:100%; padding:10px 12px; border:1px solid #e6dcd5; border-radius:10px; background:#fff; font-size:1rem;
    }
    .info-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:18px}
    @media (max-width:820px){
      .form-grid{grid-template-columns:1fr}
      .info-grid{grid-template-columns:1fr}
      .contact-hero{padding:48px 0}
      .contact-hero h1{font-size:1.6rem}
    }
    .hint{font-size:.85rem; color:#7a5b47; margin-top:6px}
  </style>
</head>
<body>

  <!-- FREE DELIVERY BAR -->
  <div class="freebar">
    FREE delivery over â‚¹1599 â€¢ Pune city
    <a href="products.html">Shop now â†’</a>
  </div>

  <!-- HEADER -->
  <header class="site-header">
    <div class="wrap nav">
      <a class="brand" href="index.html">
        <img src="images/logo.png" alt="Kairaviâ€™s Oven Magic logo"/>
        <strong>Kairaviâ€™s Oven Magic</strong>
      </a>
      <nav class="menu">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="contact.html" aria-current="page">Contact</a>
        <a href="cart.html">Cart</a>
        <a id="loginLink" href="login.html">Login</a>
        <a id="logoutLink" href="#" style="display:none">Logout</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="contact-hero">
    <div class="wrap">
      <h1>Contact & Orders</h1>
      <p class="sub">We bake fresh small batches daily. Message us for todayâ€™s availability or place an order directly.</p>
    </div>
  </section>

  <!-- CONTACT CARDS -->
  <section class="section" style="padding-top:26px">
    <div class="wrap contact-cards">
      <div class="contact-card">
        <div class="emoji">ðŸ’¬</div>
        <h3>WhatsApp</h3>
        <p>Fastest for orders, flavours, delivery slots.</p>
        <a class="btn btn-primary" href="https://wa.me/919766964845?text=Hi%2C%20I%20want%20to%20order%20cookies" target="_blank" rel="noopener">Chat on WhatsApp</a>
      </div>

      <div class="contact-card">
        <div class="emoji">ðŸ“ž</div>
        <h3>Call Us</h3>
        <p>Prefer talking? Weâ€™re happy to help.</p>
        <a class="btn btn-ghost" href="tel:+919766964845">+91 9766964845</a>
      </div>

      <div class="contact-card">
        <div class="emoji">ðŸ“§</div>
        <h3>Email</h3>
        <p>Bulk / corporate or custom gift boxes.</p>
        <a class="btn btn-ghost" href="mailto:kairavisovenmagic@gmail.com">kairavisovenmagic@gmail.com</a>
      </div>
    </div>
  </section>

  <!-- ORDER / ENQUIRY FORM -->
  <section class="section" aria-label="Order form">
    <div class="wrap">
      <h2 style="margin-bottom:6px">Quick Order / Enquiry</h2>
      <p class="sub" style="margin-bottom:12px">Fill the details and send via WhatsApp or Email.</p>

      <form id="contactForm" class="card form-card" novalidate>
        <div class="form-grid">
          <label>
            <span class="sub">Full Name</span>
            <input id="name" class="form-input" type="text" required placeholder="Your name" autocomplete="name"/>
          </label>
          <label>
            <span class="sub">Phone</span>
            <input id="phone" class="form-input" type="tel" required placeholder="10-digit mobile" inputmode="numeric" pattern="[0-9]{10}" autocomplete="tel"/>
          </label>
        </div>

        <label style="display:block;margin-top:12px">
          <span class="sub">Address (for delivery)</span>
          <textarea id="address" class="form-text" rows="3" placeholder="Flat/Street, Area, City"></textarea>
        </label>

        <label style="display:block;margin-top:12px">
          <span class="sub">Order / Message</span>
          <textarea id="message" class="form-text" rows="4" placeholder="e.g., 2Ã— Gulkand 250g, 1Ã— Wheat 250g. Preferred delivery time."></textarea>
        </label>

        <div class="hint">Tip: If you already added items in the cart, you can order from the <a href="cart.html">Cart page</a> too.</div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px">
          <button type="button" class="btn btn-primary" id="sendWA">Send via WhatsApp</button>
          <button type="button" class="btn btn-ghost" id="sendEmail">Send via Email</button>
        </div>
      </form>
    </div>
  </section>

  <!-- MAP / SERVICE AREA & HOURS -->
  <section class="section" style="padding-top:0">
    <div class="wrap info-grid">
      <div class="card" style="padding:18px">
        <h3>Service Area & Timings</h3>
        <ul class="sub" style="margin-top:8px;line-height:1.8">
          <li>Pune city delivery â€¢ FREE over â‚¹1599</li>
          <li>Fresh batches: Monâ€“Sat</li>
          <li>Order window: 8:30 AM â€“ 7:30 PM</li>
          <li>Pickup available (Kharadi area)</li>
        </ul>
      </div>

      <div class="card" style="overflow:hidden">
        <iframe
          title="Kharadi, Pune"
          width="100%" height="260" style="border:0"
          loading="lazy" allowfullscreen
          referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3783.681280075235!2d73.949!3d18.561!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2c3%3A0x0!2sKharadi%2C%20Pune!5e0!3m2!1sen!2sin!4v1700000000000">
        </iframe>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="wrap footer-grid">
      <div class="small">Â© 2025 Kairaviâ€™s Oven Magic â€” Kairavi Food Products</div>
      <div class="small" style="text-align:right">
        Email: <a href="mailto:kairavisovenmagic@gmail.com">kairavisovenmagic@gmail.com</a>
      </div>
    </div>
  </footer>

  <!-- WhatsApp Float -->
  <a class="whatsapp-float" href="https://wa.me/919766964845" target="_blank" aria-label="Chat on WhatsApp">
    <img src="images/whatsapp.png" alt="WhatsApp"/>
  </a>

  <!-- Form â†’ WhatsApp/Email + simple validation -->
  <script>
    function valPhone(p){ return /^[0-9]{10}$/.test((p||'').trim()); }
    function fmt(v){ return (v||'').trim(); }
    function buildMsg(){
      const n=fmt(document.getElementById('name').value);
      const p=fmt(document.getElementById('phone').value);
      const a=fmt(document.getElementById('address').value);
      const m=fmt(document.getElementById('message').value);
      const lines=[
        'New enquiry/order:',
        n?`Name: ${n}`:'',
        p?`Phone: ${p}`:'',
        a?`Address: ${a}`:'',
        m?`Message: ${m}`:''
      ].filter(Boolean);
      return lines.join('\n');
    }
    function toast(msg){
      let t=document.querySelector('.toast'); 
      if(!t){ t=document.createElement('div'); t.className='toast'; document.body.appendChild(t); }
      t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1100);
    }

    document.getElementById('sendWA').addEventListener('click', ()=>{
      const name=fmt(name.value), phone=fmt(document.getElementById('phone').value);
      if(!name){ toast('Please enter your name'); return; }
      if(!valPhone(phone)){ toast('Enter a valid 10-digit phone'); return; }
      const text=encodeURIComponent(buildMsg());
      window.open(`https://wa.me/919766964845?text=${text}`,'_blank');
    });

    document.getElementById('sendEmail').addEventListener('click', ()=>{
      const name=fmt(name.value), phone=fmt(document.getElementById('phone').value);
      if(!name){ toast('Please enter your name'); return; }
      if(!valPhone(phone)){ toast('Enter a valid 10-digit phone'); return; }
      const subject=encodeURIComponent('New Order / Enquiry - Kairaviâ€™s Oven Magic');
      const body   =encodeURIComponent(buildMsg());
      window.location.href=`mailto:kairavisovenmagic@gmail.com?subject=${subject}&body=${body}`;
    });
  </script>

  <!-- Firebase Auth header switch + logout popup -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js';
    import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js';

    const firebaseConfig = {
      apiKey: "AIzaSyCk4rYYxGWI9XBLXiIR1uaIFAnf8WHZP2w",
      authDomain: "kairavis-oven-magic.firebaseapp.com",
      projectId: "kairavis-oven-magic",
      storageBucket: "kairavis-oven-magic.appspot.com",
      messagingSenderId: "270897232759",
      appId: "1:270897232759:web:36ee0edc8b222046febf72"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const ADMIN_EMAILS = ['kairavisovenmagic@gmail.com'];
    const loginLink  = document.getElementById('loginLink');
    const logoutLink = document.getElementById('logoutLink');

    function toastMsg(msg){
      let t=document.querySelector('.toast'); if(!t){t=document.createElement('div');t.className='toast';document.body.appendChild(t);}
      t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1100);
    }

    onAuthStateChanged(auth, user=>{
      if(!loginLink) return;
      if(user){
        const email=(user.email||'').toLowerCase();
        const isAdmin=ADMIN_EMAILS.includes(email);
        loginLink.textContent = isAdmin ? 'Admin' : 'My Account';
        loginLink.href       = isAdmin ? 'admin.html' : 'my-account.html';
        loginLink.title      = user.email;
        if(logoutLink) logoutLink.style.display='';
      }else{
        loginLink.textContent='Login';
        loginLink.href='login.html';
        loginLink.removeAttribute('title');
        if(logoutLink) logoutLink.style.display='none';
      }
    });

    if(logoutLink){
      logoutLink.addEventListener('click', async (e)=>{
        e.preventDefault();
        if(!confirm('Log out from Kairaviâ€™s Oven Magic?')) return;
        try{
          await signOut(auth);
          toastMsg('Logged out successfully!');
          setTimeout(()=>{ window.location.href='index.html'; }, 900);
        }catch(err){ alert('Logout failed: ' + (err?.message||err)); }
      });
    }
  </script>

  <!-- tiny toast placeholder -->
  <div class="toast" style="display:block;opacity:0;pointer-events:none"></div>
</body>
</html>
