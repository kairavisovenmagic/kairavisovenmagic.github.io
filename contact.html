<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Contact | Kairaviâ€™s Oven Magic</title>
  <meta name="description" content="Contact Kairaviâ€™s Oven Magic for cookie & nankhatai orders. WhatsApp, call or email. Freshly baked, pure butter, no maida, no palm oil."/>
  <link rel="icon" href="images/logo.png"/>
  <link rel="stylesheet" href="style.css"/>

  <!-- Page-scoped fixes to avoid overlap -->
  <style>
    /* Contact cards grid */
    .contact-wrap{width:90%;max-width:1100px;margin:auto}
    .contact-grid{
      display:grid;gap:18px;
      grid-template-columns:repeat(3, minmax(260px,1fr));
    }
    .contact-card{
      background:#fff;border-radius:16px;box-shadow:0 2px 10px rgba(0,0,0,.06);
      padding:22px 20px;text-align:center;display:flex;flex-direction:column;align-items:center;
    }
    .contact-card .emoji{
      font-size:36px;line-height:1;margin-bottom:6px;opacity:.9
    }
    .contact-card h3{margin:6px 0 4px}
    .contact-card p{color:var(--muted);margin:2px 0 12px}
    .contact-card .btn{margin-top:8px}

    /* Info + Map grid */
    .info-grid{
      display:grid;gap:18px;margin-top:10px;
      grid-template-columns:repeat(2, minmax(300px,1fr));
    }
    .info-card{
      background:#fff;border-radius:16px;box-shadow:0 2px 10px rgba(0,0,0,.06);padding:18px
    }

    /* Inputs tidy */
    .contact-form input,.contact-form textarea{
      width:100%;padding:10px;border:1px solid #e6dcd5;border-radius:10px;background:#fff
    }
    .contact-form .two-col{
      display:grid;gap:12px;grid-template-columns:repeat(2, minmax(180px,1fr));
    }

    /* Tighten freebar on very small screens */
    @media (max-width: 980px){
      .contact-grid{grid-template-columns:repeat(2, minmax(240px,1fr))}
      .info-grid{grid-template-columns:1fr}
    }
    @media (max-width: 640px){
      .contact-grid{grid-template-columns:1fr}
      .contact-form .two-col{grid-template-columns:1fr}
    }
  </style>

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4W0YRB7QQ2"></script>
  <script>
    window.dataLayer=window.dataLayer||[];
    function gtag(){dataLayer.push(arguments);}
    gtag('js',new Date()); gtag('config','G-4W0YRB7QQ2');
  </script>
</head>
<body>

  <!-- FREE DELIVERY BAR -->
  <div class="freebar">
    FREE delivery over â‚¹1599 â€¢ Pune city
    <a href="products.html">Shop now â†’</a>
  </div>

  <!-- HEADER -->
  <header class="site-header">
    <div class="wrap nav">
      <a class="brand" href="index.html">
        <img src="images/logo.png" alt="Kairaviâ€™s Oven Magic logo"/>
        <strong>Kairaviâ€™s Oven Magic</strong>
      </a>
      <nav class="menu">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="contact.html" aria-current="page">Contact</a>
        <a href="cart.html">Cart</a>
        <a id="loginLink" href="login.html">Login</a>
        <a id="logoutLink" href="#" style="display:none">Logout</a>
      </nav>
    </div>
  </header>

  <!-- MINI HERO -->
  <section class="section" style="padding-top:28px;padding-bottom:18px">
    <div class="wrap">
      <h2>Contact & Orders</h2>
      <p class="sub">We bake small batches daily. Message us for todayâ€™s availability or place an order directly.</p>
    </div>
  </section>

  <!-- CONTACT CARDS -->
  <section class="section" style="padding-top:0">
    <div class="contact-wrap contact-grid">
      <div class="contact-card">
        <div class="emoji">ðŸ’¬</div>
        <h3>WhatsApp</h3>
        <p>Fastest for orders, flavours, delivery slots.</p>
        <a class="btn btn-primary" href="https://wa.me/919766964845?text=Hi%2C%20I%20want%20to%20order%20cookies" target="_blank" rel="noopener">Chat on WhatsApp</a>
      </div>

      <div class="contact-card">
        <div class="emoji">ðŸ“ž</div>
        <h3>Call Us</h3>
        <p>Prefer talking? Weâ€™re happy to help.</p>
        <a class="btn btn-ghost" href="tel:+919766964845">+91 9766964845</a>
      </div>

      <div class="contact-card">
        <div class="emoji">ðŸ“§</div>
        <h3>Email</h3>
        <p>Bulk / corporate or custom gift boxes.</p>
        <a class="btn btn-ghost" href="mailto:kairavisovenmagic@gmail.com">kairavisovenmagic@gmail.com</a>
      </div>
    </div>
  </section>

  <!-- ORDER / ENQUIRY FORM -->
  <section class="section" aria-label="Order form">
    <div class="wrap">
      <h3 style="margin-bottom:8px">Quick Order / Enquiry</h3>
      <p class="sub" style="margin-bottom:12px">Fill the details and send via WhatsApp or Email.</p>

      <form id="contactForm" class="card contact-form" style="padding:18px">
        <div class="two-col">
          <label>
            <span class="sub">Full Name</span>
            <input id="name" type="text" required placeholder="Your name"/>
          </label>
          <label>
            <span class="sub">Phone</span>
            <input id="phone" type="tel" required placeholder="10-digit mobile"/>
          </label>
        </div>

        <label style="display:block;margin-top:12px">
          <span class="sub">Address (for delivery)</span>
          <textarea id="address" rows="3" placeholder="Flat/Street, Area, City"></textarea>
        </label>

        <label style="display:block;margin-top:12px">
          <span class="sub">Order / Message</span>
          <textarea id="message" rows="4" placeholder="e.g., 2Ã— Gulkand 250g, 1Ã— Wheat 250g. Preferred delivery time."></textarea>
        </label>

        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px">
          <button type="button" class="btn btn-primary" id="sendWA">Send via WhatsApp</button>
          <button type="button" class="btn btn-ghost" id="sendEmail">Send via Email</button>
        </div>
      </form>
    </div>
  </section>

  <!-- MAP / SERVICE AREA & HOURS -->
  <section class="section" style="padding-top:0">
    <div class="wrap info-grid">
      <div class="info-card">
        <h3>Service Area & Timings</h3>
        <ul class="sub" style="margin-top:8px;line-height:1.8">
          <li>Pune city delivery â€¢ FREE over â‚¹1599</li>
          <li>Fresh batches: Monâ€“Sat</li>
          <li>Order window: 8:30 AM â€“ 7:30 PM</li>
          <li>Pickup available (Kharadi area)</li>
        </ul>
      </div>

      <div class="info-card" style="overflow:hidden;padding:0">
        <iframe
          title="Kharadi, Pune"
          width="100%" height="300" style="border:0;display:block;border-radius:16px"
          loading="lazy" allowfullscreen
          referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3783.681280075235!2d73.949!3d18.561!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2c3%3A0x0!2sKharadi%2C%20Pune!5e0!3m2!1sen!2sin!4v1700000000000">
        </iframe>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="wrap footer-grid">
      <div class="small">Â© 2025 Kairaviâ€™s Oven Magic â€” Kairavi Food Products</div>
      <div class="small" style="text-align:right">
        Email: <a href="mailto:kairavisovenmagic@gmail.com">kairavisovenmagic@gmail.com</a>
      </div>
    </div>
  </footer>

  <!-- WhatsApp Float -->
  <a class="whatsapp-float" href="https://wa.me/919766964845" target="_blank" aria-label="Chat on WhatsApp">
    <img src="images/whatsapp.png" alt="WhatsApp"/>
  </a>

  <!-- Form â†’ WhatsApp/Email -->
  <script>
    function fmt(v){return (v||'').trim();}
    function buildMessage(){
      const n=fmt(document.getElementById('name').value);
      const p=fmt(document.getElementById('phone').value);
      const a=fmt(document.getElementById('address').value);
      const m=fmt(document.getElementById('message').value);
      const lines=['New enquiry/order:', n&&`Name: ${n}`, p&&`Phone: ${p}`, a&&`Address: ${a}`, m&&`Message: ${m}`].filter(Boolean);
      return lines.join('\n');
    }
    document.getElementById('sendWA').addEventListener('click',()=>{
      const text=encodeURIComponent(buildMessage());
      window.open(`https://wa.me/919766964845?text=${text}`,'_blank');
    });
    document.getElementById('sendEmail').addEventListener('click',()=>{
      const subject=encodeURIComponent('New Order / Enquiry - Kairaviâ€™s Oven Magic');
      const body=encodeURIComponent(buildMessage());
      window.location.href=`mailto:kairavisovenmagic@gmail.com?subject=${subject}&body=${body}`;
    });
  </script>

  <!-- Firebase header logic (My Account/Admin switch + Logout) -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js';
    import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js';

    const firebaseConfig = {
      apiKey: "AIzaSyCk4rYYxGWI9XBLXiIR1uaIFAnf8WHZP2w",
      authDomain: "kairavis-oven-magic.firebaseapp.com",
      projectId: "kairavis-oven-magic",
      storageBucket: "kairavis-oven-magic.firebasestorage.app",
      messagingSenderId: "270897232759",
      appId: "1:270897232759:web:36ee0edc8b222046febf72"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const ADMIN_EMAILS = ['kairavisovenmagic@gmail.com'];

    const loginLink  = document.getElementById('loginLink');
    const logoutLink = document.getElementById('logoutLink');

    function toastMsg(msg){
      let t=document.querySelector('.toast');
      if(!t){ t=document.createElement('div'); t.className='toast';
        Object.assign(t.style,{position:'fixed',left:'50%',bottom:'20px',transform:'translateX(-50%)',
          background:'#333',color:'#fff',padding:'10px 18px',borderRadius:'10px',opacity:'0',transition:'opacity .25s',zIndex:'9999'});
        document.body.appendChild(t);
      }
      t.textContent=msg; t.style.opacity='1'; setTimeout(()=>t.style.opacity='0',1200);
    }

    onAuthStateChanged(auth, user=>{
      if(!loginLink) return;
      if(user){
        const email=(user.email||'').toLowerCase();
        const isAdmin=ADMIN_EMAILS.includes(email);
        loginLink.textContent = isAdmin ? 'Admin' : 'My Account';
        loginLink.href       = isAdmin ? 'admin.html' : 'my-account.html';
        loginLink.title      = user.email;
        if(logoutLink) logoutLink.style.display='';
      }else{
        loginLink.textContent='Login';
        loginLink.href='login.html';
        loginLink.removeAttribute('title');
        if(logoutLink) logoutLink.style.display='none';
      }
    });

    if(logoutLink){
      logoutLink.addEventListener('click', async (e)=>{
        e.preventDefault();
        if(!confirm('Log out from Kairaviâ€™s Oven Magic?')) return;
        try{ await signOut(auth); toastMsg('Logged out successfully!'); setTimeout(()=>{ location.href='index.html'; }, 900); }
        catch(err){ alert('Logout failed: ' + (err?.message||err)); }
      });
    }
  </script>

  <div class="toast" style="display:none"></div>
</body>
</html>
